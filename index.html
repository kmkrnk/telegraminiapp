<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Telegram Mini App Full Data</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  body { font-family: monospace; padding: 20px; white-space: pre-wrap; }
</style>
</head>
<body>
<h1>Все данные Telegram WebApp</h1>
<div id="data">Загрузка...</div>

<script>
  const tg = window.Telegram.WebApp;
  tg.ready();

  function dumpObject(obj, depth = 0) {
    const indent = '  '.repeat(depth);
    let output = '';
    for (const key in obj) {
      try {
        const val = obj[key];
        if (val && typeof val === 'object') {
          output += `${indent}${key}: {\n${dumpObject(val, depth + 1)}${indent}}\n`;
        } else if (typeof val === 'function') {
          output += `${indent}${key}: [Function]\n`;
        } else {
          output += `${indent}${key}: ${val}\n`;
        }
      } catch (e) {
        output += `${indent}${key}: [Cannot read]\n`;
      }
    }
    return output;
  }

  document.getElementById('data').innerText = dumpObject(tg);

  console.log("Telegram WebApp full object:", tg);
</script>
</body>
</html>
